(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"1sRX":function(t,n,e){"use strict";var r=e("wHSu"),i={components:{FontAwesomeIcon:e("rT2p").a},computed:{faSpinner:function(){return r.d}}},a=e("KHd+"),o=Object(a.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("FontAwesomeIcon",{attrs:{icon:this.faSpinner,spin:""}})}),[],!1,null,null,null);n.a=o.exports},"5iKg":function(t,n,e){"use strict";var r=e("wHSu"),i=e("rT2p"),a=e("3Zo4"),o=e("nqqA"),s=e("9HyH"),l=e("JhbM"),c=e("m3jU"),u=e("fI1A"),d=e("7pNi"),f=e("1sRX"),p={components:{BDropdown:a.a,BDropdownItem:o.a,BDropdownDivider:s.a,RunButton:d.a,FontAwesomeIcon:i.a,FreshButton:u.a,Spinner:f.a},directives:{BTooltip:l.a},data:function(){return{migrations:c.a}},computed:{faQuestionCircle:function(){return r.c}}},m=e("KHd+"),v=Object(m.a)(p,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"card shadow-sm my-4"},[e("div",{staticClass:"card-header bg-secondary text-white",staticStyle:{"line-height":"1.2","padding-left":"0.80em","padding-right":"0.80em"}},[e("a",{staticClass:"float-right text-white",attrs:{href:"https://laravel.com/docs/migrations",target:"_blank"}},[e("FontAwesomeIcon",{attrs:{icon:t.faQuestionCircle}}),t._v("\n            Laravel Docs\n        ")],1),t._v(" "),e("h6",{staticClass:"m-0"},[t._v("\n            Migrations\n            "),t.migrations.loading?e("Spinner",{staticClass:"ml-1"}):t._e()],1)]),t._v(" "),e("table",{staticClass:"table table-hover bg-white mb-0"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Date / Time")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Status")]),t._v(" "),e("th",{staticClass:"align-middle font-weight-normal text-muted text-right",attrs:{scope:"col"}},[e("FreshButton",{attrs:{size:"sm",width:"6.5em"}})],1)])]),t._v(" "),t.migrations.allMigrations.length?e("tbody",t._l(t.migrations.allMigrations,(function(n){return e("tr",{key:n.name,class:n.isMissing?"table-danger":""},[e("td",{staticClass:"align-middle"},[n.date?e("span",[t._v(t._s(n.date))]):e("span",{staticClass:"text-muted"},[t._v("(Unknown)")])]),t._v(" "),e("td",{staticClass:"align-middle"},[e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.right",value:n.relPath,expression:"migration.relPath",modifiers:{right:!0}}],staticClass:"pr-1"},[n.isMissing?[t._v("\n                            "+t._s(n.title)+"\n                            "),e("span",{staticClass:"badge badge-danger"},[t._v("File Missing!")])]:e("router-link",{attrs:{to:"/migration-details/"+n.name,"data-toggle":"modal","data-target":"#migration-popup","data-path":n.relPath}},[t._v("\n                            "+t._s(n.title)+"\n                        ")])],2)]),t._v(" "),e("td",{staticClass:"align-middle"},[n.isApplied?e("span",{staticClass:"badge badge-pill badge-success"},[t._v("Applied â€“ Batch "+t._s(n.batch))]):e("span",{staticClass:"badge badge-pill badge-warning"},[t._v("Pending")])]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[e("RunButton",{attrs:{migration:n,size:"sm",width:"6.5em"}})],1)])})),0):t.migrations.loading?e("tbody",[e("tr",[e("td",{staticClass:"text-muted",attrs:{colspan:"4"}},[e("Spinner",{staticClass:"mr-2"}),t._v("\n                    Loading...\n                ")],1)])]):e("tbody",[t._m(0)])])])}),[function(){var t=this.$createElement,n=this._self._c||t;return n("tr",[n("td",{attrs:{colspan:"4"}},[n("em",{staticClass:"text-muted"},[this._v("No migrations found.")])])])}],!1,null,null,null);n.a=v.exports},"7LFa":function(t,n,e){"use strict";n.a={mounted:function(){window.addEventListener("keydown",this.$_refresh_keyDown)},destroyed:function(){window.removeEventListener("keydown",this.$_refresh_keyDown)},methods:{$_refresh_keyDown:function(t){("F5"===t.code&&!t.ctrlKey||t.ctrlKey&&"KeyR"===t.code)&&(t.preventDefault(),this.refresh())}}}},"7pNi":function(t,n,e){"use strict";var r=e("3Zo4"),i=e("nqqA"),a=e("9HyH"),o=e("m3jU"),s={components:{Spinner:e("1sRX").a,BDropdown:r.a,BDropdownItem:i.a,BDropdownDivider:a.a},props:{migration:{type:Object,required:!0},size:{type:String,default:""},width:{type:String,default:void 0}},data:function(){return{migrations:o.a}},computed:{running:function(){return this.migrations.running||this.migration.running},variant:function(){return this.migration.isMissing?"secondary":this.migration.isApplied?"danger":"success"}},methods:{migrateAll:function(){return this.migrations.migrateAll()},migrateSingle:function(){return this.migrations.migrateSingle(this.migration)},rollbackAll:function(){return this.migrations.rollbackAll()},rollbackBatch:function(){return this.migrations.rollbackBatch(this.migration.batch)},rollbackSingle:function(){return this.migrations.rollbackSingle(this.migration)},runDefault:function(){this.migration.isMissing||(this.migration.isApplied?this.rollbackSingle():this.migrateSingle())}}},l=e("KHd+"),c=Object(l.a)(s,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.migration.isMissing?t._e():e("BDropdown",{style:{width:t.width},attrs:{right:"",size:t.size,split:"",variant:t.variant,disabled:t.running},on:{click:t.runDefault},scopedSlots:t._u([{key:"button-content",fn:function(){return[t.running?e("Spinner"):t.migration.isMissing?[t._v("Fix")]:t.migration.isApplied?[t._v("Rollback")]:[t._v("Migrate")]]},proxy:!0}],null,!1,1592394507)},[t._v(" "),t.migration.isMissing?[e("BDropdownItem",[t._v("Recreate File")]),t._v(" "),e("BDropdownItem",[t._v("Update Filename")]),t._v(" "),e("BDropdownItem",[t._v("Delete Record")])]:t.migration.isApplied?[e("BDropdownItem",{on:{click:t.rollbackSingle}},[t._v("This Migration")]),t._v(" "),e("BDropdownItem",{on:{click:t.rollbackBatch}},[t._v("Batch "+t._s(t.migration.batch))]),t._v(" "),e("BDropdownItem",{on:{click:t.rollbackAll}},[t._v("All Migrations")])]:[e("BDropdownItem",{on:{click:t.migrateSingle}},[t._v("This Migration")]),t._v(" "),e("BDropdownItem",{on:{click:t.migrateAll}},[t._v("All Pending")])]],2)}),[],!1,null,null,null);n.a=c.exports},aQxf:function(t,n,e){"use strict";var r=e("wHSu"),i=e("rT2p"),a=e("JhbM"),o=e("m3jU"),s={components:{Spinner:e("1sRX").a,FontAwesomeIcon:i.a},directives:{BTooltip:a.a},data:function(){return{migrations:o.a}},computed:{faPlug:function(){return r.b},faDatabase:function(){return r.a}}},l=e("KHd+"),c=Object(l.a)(s,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"card shadow-sm my-4"},[e("div",{staticClass:"card-header bg-secondary text-white",staticStyle:{"line-height":"1.2","padding-left":"0.80em","padding-right":"0.80em"}},[t.migrations.loading&&!t.migrations.database?e("span",{staticClass:"text-muted"},[e("Spinner",{staticClass:"mr-2"}),t._v("\n            Loading...\n        ")],1):[e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Connection",expression:"'Connection'"}],staticStyle:{cursor:"default"}},[e("FontAwesomeIcon",{staticClass:"mr-1",attrs:{icon:t.faPlug}}),t._v("\n                "+t._s(t.migrations.connection)+"\n            ")],1),t._v(" "),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Database",expression:"'Database'"}],staticClass:"ml-3",staticStyle:{cursor:"default"}},[e("FontAwesomeIcon",{staticClass:"mr-1",attrs:{icon:t.faDatabase}}),t._v("\n                "+t._s(t.migrations.database)+"\n            ")],1)]],2),t._v(" "),e("table",{staticClass:"table table-hover bg-white mb-0"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("\n                    Tables\n                    "),t.migrations.loading?e("Spinner",{staticClass:"ml-1"}):t._e()],1),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("\n                    Rows\n                ")])])]),t._v(" "),t.migrations.tables.length?e("tbody",t._l(t.migrations.tables,(function(n){return e("tr",[e("td",{staticClass:"align-middle"},[t._v("\n                    "+t._s(n.name)+"\n                ")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n                    "+t._s(n.rows)+"\n                ")])])})),0):t.migrations.loading?e("tbody",[e("tr",[e("td",{staticClass:"text-muted",attrs:{colspan:"4"}},[e("Spinner"),t._v("\n                    Loading...\n                ")],1)])]):e("tbody",[t._m(0)])])])}),[function(){var t=this.$createElement,n=this._self._c||t;return n("tr",[n("td",{attrs:{colspan:"1"}},[n("em",{staticClass:"text-muted"},[this._v("No tables found.")])])])}],!1,null,null,null);n.a=c.exports},fI1A:function(t,n,e){"use strict";var r=e("3Zo4"),i=e("nqqA"),a=e("9HyH"),o=e("m3jU"),s={components:{Spinner:e("1sRX").a,BDropdown:r.a,BDropdownItem:i.a,BDropdownDivider:a.a},props:{size:{type:String,default:""},width:{type:String,default:void 0}},data:function(){return{migrations:o.a}}},l=e("KHd+"),c=Object(l.a)(s,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("BDropdown",{style:{width:t.width},attrs:{right:"",size:t.size,split:"",variant:"warning",disabled:t.migrations.running},on:{click:function(n){return t.migrations.fresh(!0)}},scopedSlots:t._u([{key:"button-content",fn:function(){return[t.migrations.running?e("Spinner"):[t._v("Fresh")]]},proxy:!0}])},[t._v(" "),e("BDropdownItem",{on:{click:function(n){return t.migrations.fresh(!1)}}},[t._v("\n        Fresh\n        "),e("small",{staticClass:"d-block text-muted"},[t._v("Drop tables & run all migrations")])]),t._v(" "),e("BDropdownItem",{on:{click:function(n){return t.migrations.fresh(!0)}}},[t._v("\n        Fresh + Seed "),e("small",{staticClass:"text-muted"},[t._v("(Default)")])]),t._v(" "),e("BDropdownDivider"),t._v(" "),e("BDropdownItem",{on:{click:function(n){return t.migrations.refresh(!1)}}},[t._v("\n        Refresh\n        "),e("small",{staticClass:"d-block text-muted"},[t._v("Rollback & re-run all migrations")])]),t._v(" "),e("BDropdownItem",{on:{click:function(n){return t.migrations.refresh(!0)}}},[t._v("\n        Refresh + Seed\n    ")]),t._v(" "),e("BDropdownDivider"),t._v(" "),e("BDropdownItem",{on:{click:function(n){return t.migrations.seed()}}},[t._v("\n        Seed only\n    ")])],1)}),[],!1,null,null,null);n.a=c.exports},m3jU:function(t,n,e){"use strict";var r=e("o0o1"),i=e.n(r),a=e("XuX8"),o=e.n(a),s=e("vDqi"),l=e.n(s),c=e("OPCw");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=l.a.create({baseURL:document.body.dataset.baseUrl+"/api",headers:{Accept:"text/html"}});d.interceptors.request.use((function(t){return"get"!==t.method.toLowerCase()&&"object"===u(t.data)&&(t.data._token=document.body.dataset.csrfToken),t})),d.interceptors.response.use((function(t){return t}),(function(t){return t.response&&c.a.show("Error in ".concat(t.request.responseURL),t.response.data),Promise.reject(t)}));var f=d;function p(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,n){return(b=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var w=function(t){function n(t){var e,r,i,a,o,s;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,e=!(i=g(n).call(this))||"object"!==m(i)&&"function"!=typeof i?h(r):i,a=h(e),s=["name","date","title","batch","relPath","source","loading","running"],(o="_fields")in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,e.init({name:t,loading:!1,running:!1}),e}var e,r,i;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&b(t,n)}(n,t),e=n,(r=[{key:"isApplied",get:function(){return null!==this.batch}},{key:"isMissing",get:function(){return null===this.relPath}}])&&v(e.prototype,r),i&&v(e,i),n}(function(){function t(){var n,e,r;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),r=[],(e="_fields")in(n=this)?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r}var n,e,r;return n=t,(e=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!0,e=!1,r=void 0;try{for(var i,a=this._fields[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value;this[o]=null}}catch(t){e=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(e)throw r}}this.fill(t)}},{key:"fill",value:function(t){var n=!0,e=!1,r=void 0;try{for(var i,a=this._fields[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value;o in t&&(this[o]=t[o])}}catch(t){e=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(e)throw r}}}}])&&p(n.prototype,e),r&&p(n,r),t}()),_=e("ZgVb");function y(t,n,e,r,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void e(t)}s.done?n(l):Promise.resolve(l).then(r,i)}function k(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var a=t.apply(n,e);function o(t){y(a,r,i,o,s,"next",t)}function s(t){y(a,r,i,o,s,"throw",t)}o(void 0)}))}}n.a=new o.a({data:function(){return{connection:null,database:null,loading:!1,migrationDetails:{},migrationNames:[],queue:[],queueRunning:!1,running:!1,tables:[]}},computed:{allMigrations:function(){var t=this;return this.migrationNames.map((function(n){return t.migrationDetails[n]}))}},methods:{load:function(){var t=this;return k(i.a.mark((function n(){var e;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,n.prev=1,n.next=4,f.get("list");case 4:e=n.sent,t.setOverview(e.data);case 6:return n.prev=6,t.loading=!1,n.finish(6);case 9:case"end":return n.stop()}}),n,null,[[1,,6,9]])})))()},getMigration:function(t){return t in this.migrationDetails||o.a.set(this.migrationDetails,t,new w(t)),this.migrationDetails[t]},fresh:function(t){var n=this;return k(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.running=!0,e.prev=1,e.next=4,f.post("fresh",{seed:t});case 4:r=e.sent,n.setOverview(r.data);case 6:return e.prev=6,n.running=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})))()},loadDetails:function(t){var n=this;return k(i.a.mark((function e(){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.getMigration(t)).loading=!0,e.prev=2,e.next=5,f.get("migration-details/".concat(t));case 5:a=e.sent,r.fill(a.data);case 7:return e.prev=7,r.loading=!1,e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[2,,7,10]])})))()},refresh:function(t){var n=this;return k(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.running=!0,e.prev=1,e.next=4,f.post("refresh",{seed:t});case 4:r=e.sent,n.setOverview(r.data);case 6:return e.prev=6,n.running=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})))()},seed:function(){var t=this;return k(i.a.mark((function n(){var e;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.running=!0,n.prev=1,n.next=4,f.post("seed");case 4:e=n.sent,t.setOverview(e.data);case 6:return n.prev=6,t.running=!1,n.finish(6);case 9:case"end":return n.stop()}}),n,null,[[1,,6,9]])})))()},migrateAll:function(){var t=this;return k(i.a.mark((function n(){var e,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(e=t.allMigrations.filter((function(t){return!t.isApplied}))).forEach((function(t){return t.running=!0})),n.prev=2,n.next=5,f.post("migrate-all");case 5:r=n.sent,t.setOverview(r.data);case 7:return n.prev=7,e.forEach((function(t){return t.running=!1})),n.finish(7);case 10:case"end":return n.stop()}}),n,null,[[2,,7,10]])})))()},migrateSingle:function(t){var n=this;return k(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.running=!0,e.prev=1,e.next=4,f.post("migrate-single/".concat(t.name));case 4:r=e.sent,n.setOverview(r.data);case 6:return e.prev=6,t.running=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})))()},rollbackAll:function(){var t=this;return k(i.a.mark((function n(){var e,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(e=t.allMigrations.filter((function(t){return t.isApplied}))).forEach((function(t){return t.running=!0})),n.prev=2,n.next=5,f.post("rollback-all");case 5:r=n.sent,t.setOverview(r.data);case 7:return n.prev=7,e.forEach((function(t){return t.running=!1})),n.finish(7);case 10:case"end":return n.stop()}}),n,null,[[2,,7,10]])})))()},rollbackBatch:function(t){var n=this;return k(i.a.mark((function e(){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.allMigrations.filter((function(n){return n.batch===t}))).forEach((function(t){return t.running=!0})),e.prev=2,e.next=5,f.post("rollback-batch/".concat(t));case 5:a=e.sent,n.setOverview(a.data);case 7:return e.prev=7,r.forEach((function(t){return t.running=!1})),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[2,,7,10]])})))()},rollbackSingle:function(t){var n=this;return k(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.running=!0,e.prev=1,e.next=4,f.post("rollback-single/".concat(t.name));case 4:r=e.sent,n.setOverview(r.data);case 6:return e.prev=6,t.running=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})))()},setOverview:function(t){this.connection=t.connection,this.database=t.database,this.tables=t.tables;var n=[],e=!0,r=!1,i=void 0;try{for(var a,o=t.migrations[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var s=a.value;n.push(s.name),this.getMigration(s.name).fill(s)}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}this.migrationNames=n,t.toasts&&_.a.show(t.toasts),t.error&&c.a.show(t.error.title,t.error.html)}}})}}]);
//# sourceMappingURL=chunk-31060d5d3598c92478c8.js.map